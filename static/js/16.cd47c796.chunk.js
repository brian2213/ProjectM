(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{279:function(t,e,a){"use strict";var i,n=a(85),s=a(86),o=a(88),r=a(87),l=a(89),h=a(0),c=a.n(h),d=a(250),u=a.n(d),m=u.a.helpers,p=m.options.resolve,g=m.valueOrDefault,x=u.a.controllers.line.extend({linkScales:m.noop,updateElement:function(t,e){var a=this,i=a.getMeta(),n=t.custom||{},s=a.index,o=a.getScaleForId(i.yAxisID),r=a.getScaleForId(i.xAxisID),l=i.dataset._model,h=a._resolvePointOptions(t,e),c=a.calculatePointPosition(e),d=c.x,u=c.y;t._xScale=r,t._yScale=o,t._options=h,t._datasetIndex=s,t._index=e,t._model={x:d,y:u,skip:n.skip||isNaN(d)||isNaN(u),radius:h.radius,pointStyle:h.pointStyle,rotation:h.rotation,backgroundColor:h.backgroundColor,borderColor:h.borderColor,borderWidth:h.borderWidth,tension:g(n.tension,l?l.tension:0),steppedLine:!!l&&l.steppedLine,hitRadius:h.hitRadius}},_resolvePointOptions:function(t,e){var a,i,n,s=this.chart,o=s.data.datasets[this.index],r=t.custom||{},l=s.options.elements.point,h={},c={chart:s,dataIndex:e,dataset:o,datasetIndex:this.index},d={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},u=Object.keys(d);for(a=0,i=u.length;a<i;++a)h[n=u[a]]=p([r[n],o[d[n]],o[n],l[n]],c,e);return h},calculatePointPosition:function(t){var e=this.chart.scale,a=this.getDataset().data[t];return e.getPointPosition(a.real,a.imag)}}),f=u.a.helpers,b=u.a.Scale.extend({setDimensions:function(){this.height=this.maxHeight,this.width=this.maxWidth,this.xCenter=this.left+Math.round(this.width/2),this.yCenter=this.top+Math.round(this.height/2),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},buildTicks:function(){return this.rTicks=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.2,1.4,1.6,1.8,2,3,4,5,10,20,50],this.xTicks=[-50,-20,-10,-5,-4,-3,-2,-1,-.8,-.6,-.4,-.2,0,.2,.4,.6,.8,1,2,3,4,5,10,20,50],[]},convertTicksToLabels:function(){return this.rLabels=this.rTicks.map(function(t,e,a){return this.options.ticks.rCallback.apply(this,[t,e,a])},this),this.xLabels=this.xTicks.map(function(t,e,a){return this.options.ticks.xCallback.apply(this,[t,e,a])},this),[]},calculateTickRotation:f.noop,fit:function(){this.xCenter=(this.left+this.right)/2,this.yCenter=(this.top+this.bottom)/2;var t=f.getValueOrDefault(this.options.ticks.fontSize,u.a.defaults.global.defaultFontSize);if(this.options.ticks.display){var e=f.getValueOrDefault(this.options.ticks.fontStyle,u.a.defaults.global.defaultFontStyle),a=f.getValueOrDefault(this.options.ticks.fontFamily,u.a.defaults.global.defaultFontFamily),i=f.fontString(t,e,a);this.ctx.font=i;var n=this.xLabels.map(function(t){return this.ctx.measureText(t).width},this);this.minDimension=Math.min(this.right-this.left,this.bottom-this.top),f.each(this.xTicks,function(e,a){if(0!==e){var i=this.minDimension/2,s=this.getPointPosition(0,e),o=(s.x-this.xCenter)/i,r=(s.y-this.yCenter)/i,l=n[a]+this.options.ticks.padding,h=[{x:s.x+o*l+r*t,y:s.y+r*l-o*t},{x:s.x+o*l-r*t,y:s.y+r*l+o*t}];f.each(h,function(t){this.paddingLeft=Math.max(this.paddingLeft,this.left-t.x),this.paddingTop=Math.max(this.paddingTop,this.top-t.y),this.paddingRight=Math.max(this.paddingRight,t.x-this.right),this.paddingBottom=Math.max(this.paddingBottom,t.y-this.bottom)},this)}},this)}this.minDimension=Math.min(this.right-this.left-this.paddingLeft-this.paddingRight,this.bottom-this.top-this.paddingBottom-this.paddingTop),this.arcs=[],this.rLabelPoints=[],this.xLabelPoints=[],f.each(this.rTicks,function(t){var e=1/(1+t)*(this.minDimension/2),a=this.xCenter+t/(1+t)*(this.minDimension/2);this.arcs.push({x:a,y:this.yCenter,r:e,s:0,e:2*Math.PI,cc:!1}),this.rLabelPoints.push({x:a-e,y:this.yCenter})},this),f.each(this.xTicks,function(t){if(0!==t){var e=1/Math.abs(t)*(this.minDimension/2),a=this.xCenter+this.minDimension/2,i=t>0?this.yCenter-e:this.yCenter+e,n=Math.sqrt(Math.pow(a-this.xCenter,2)+Math.pow(i-this.yCenter,2)),s=Math.atan2(this.yCenter-i,this.xCenter-a),o=(t>0?.5:-.5)*Math.acos((Math.pow(e,2)-Math.pow(this.minDimension/2,2))/Math.pow(n,2))+s,r=t>0?.5*Math.PI:-.5*Math.PI;this.arcs.push({x:a,y:i,r:e,s:r,e:o,cc:!(t>0)}),this.xLabelPoints.push({x:a+Math.cos(o)*e,y:i+Math.sin(o)*e})}else this.xLabelPoints.push(null)},this)},draw:function(){if(this.options.display&&(this.options.gridLines.display?(this.ctx.strokeStyle=this.options.gridLines.color,this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.beginPath(),this.ctx.moveTo(this.xCenter-this.minDimension/2,this.yCenter),this.ctx.lineTo(this.xCenter+this.minDimension/2,this.yCenter),this.ctx.stroke(),f.each(this.arcs,function(t){this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.r,t.s,t.e,t.cc),this.ctx.stroke()},this)):(this.ctx.strokeStyle=this.options.gridLines.color,this.ctx.lineWidth=this.options.gridLines.lineWidth,this.ctx.beginPath(),this.ctx.arc(this.xCenter,this.yCenter,this.minDimension/2,0,2*Math.PI,!1),this.ctx.stroke()),this.options.ticks.display)){var t=f.getValueOrDefault(this.options.ticks.fontSize,u.a.defaults.global.defaultFontSize),e=f.getValueOrDefault(this.options.ticks.fontStyle,u.a.defaults.global.defaultFontStyle),a=f.getValueOrDefault(this.options.ticks.fontFamily,u.a.defaults.global.defaultFontFamily),i=f.fontString(t,e,a);this.ctx.font=i,this.ctx.fillStyle=f.getValueOrDefault(this.options.ticks.fontColor,u.a.defaults.global.defaultFontColor),f.each(this.rLabels,function(t,e){var a=this.rLabelPoints[e];this.ctx.save(),this.ctx.translate(a.x,a.y),this.ctx.rotate(-.5*Math.PI),this.ctx.textBaseline="middle",this.ctx.textAlign="center",this.ctx.fillText(t,0,0),this.ctx.restore()},this),f.each(this.xLabels,function(t,e){var a=this.xLabelPoints[e];if(a){var i="left",n=Math.atan2(a.y-this.yCenter,a.x-this.xCenter),s=this.options.ticks.padding;a.x<this.xCenter&&(n+=Math.PI,i="right",s*=-1),this.ctx.save(),this.ctx.translate(a.x,a.y),this.ctx.rotate(n),this.ctx.textBaseline="middle",this.ctx.textAlign=i,this.ctx.fillText(t,s,0),this.ctx.restore()}},this)}},getPointPosition:function(t,e){var a=1/(1+t)*(this.minDimension/2),i=this.xCenter+t/(1+t)*(this.minDimension/2),n=this.yCenter,s=1/Math.abs(e)*(this.minDimension/2),o=this.xCenter+this.minDimension/2,r=e>0?this.yCenter-s:this.yCenter+s,l=Math.sqrt(Math.pow(o-i,2)+Math.pow(r-n,2)),h=Math.atan2(n-r,i-o),c=Math.acos((Math.pow(s,2)-Math.pow(a,2))/Math.pow(l,2)),d=e>0?.5*c+h:-.5*c+h;return{x:0===e?i-a:Math.cos(d)*s+o,y:0===e?this.yCenter:Math.sin(d)*s+r}},getLabelForIndex:function(t,e){var a=this.chart.data.datasets[e].data[t];return a.real+" + "+a.imag+"i"}});a.d(e,"a",function(){return y}),u.a.controllers.smith=x,u.a.defaults.smith={scale:{type:"smith"},tooltips:{callbacks:{title:function(t,e){return e.datasets[t[0].datasetIndex].data[t[0].index].freq},label:function(t,e){var a=e.datasets[t.datasetIndex],i=a.data[t.index];return a.label+": "+i.real+" + "+i.imag+"i"}}}},u.a.scaleService.registerScaleType("smith",b,{position:"chartArea",display:!0,ticks:{padding:5,rCallback:function(t){return t.toString()},xCallback:function(t){return t.toString()+"i"}}});var y=function(t){function e(){var t,a;Object(n.a)(this,e);for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(a=Object(o.a)(this,(t=Object(r.a)(e)).call.apply(t,[this].concat(s)))).state={chartData:{datasets:[{label:"none",borderColor:a.props.color,pointBackgroundColor:a.props.color,borderWidth:2,fill:!1,radius:0,hitRadius:3,data:[]}]},options:{title:{display:!0,text:"Smith Chart"},legend:{display:!0}}},a}return Object(l.a)(e,t),Object(s.a)(e,[{key:"componentDidUpdate",value:function(t,e,a){if(t.data!==this.props.data){var n=this.props.data.datasets;i.config.data.datasets=n,i.update()}}},{key:"componentDidMount",value:function(){var t=document.getElementById("smith-chart").getContext("2d");i=new u.a(t,{type:"smith",plugins:[{afterDatasetsDraw:function(t){var e=t.chartArea.top,a=t.chartArea.bottom-e;t.ctx.font="20px Arial",t.ctx.fillStyle="rgba(0,100,100,0.7)",t.ctx.fillText("Magimaji.com",t.width/2.5,e+a/1.5)}}],options:{maintainAspectRatio:!1,tooltips:{mode:"nearest",intersect:!1},hover:{mode:"nearest",intersect:!1},elements:{point:{radius:.5,borderColor:"black"}}},data:{}}),this.forceUpdate()}},{key:"render",value:function(){return c.a.createElement("div",{style:{width:"100%",height:550}},c.a.createElement("canvas",{id:"smith-chart",className:"extra-large-chart"}))}}]),e}(h.Component)},463:function(t,e,a){"use strict";a.r(e);var i,n=a(452),s=a(85),o=a(86),r=a(88),l=a(87),h=a(89),c=a(92),d=a(282),u=a(0),m=a.n(u),p=a(322),g=a(298),x=a.n(g),f=(a(306),a(265)),b=a(266),y=a(256),C=a(437),v=a(257),k=a(464),S=a(465),E=a(317),O=a(466),M=a(467),w=a(468),A=a(258),D=a(435),T=a(436),L=a(279),P=(Object(u.lazy)(function(){return a.e(12).then(a.bind(null,449))}),Object(T.getStyle)("--primary"),Object(T.getStyle)("--success"),Object(T.getStyle)("--info"),Object(T.getStyle)("--warning"),Object(T.getStyle)("--danger"),{tooltips:(i={enabled:!1,custom:D.CustomTooltips,intersect:!0,mode:"index",position:"nearest"},Object(d.a)(i,"intersect",!1),Object(d.a)(i,"callbacks",{labelColor:function(t,e){return{backgroundColor:e.data.datasets[t.datasetIndex].borderColor}}}),i),maintainAspectRatio:!1,legend:{display:!0},hover:{mode:"index",intersect:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!0},ticks:{},scaleLabel:{display:!0,labelString:"Frequency (MHz)"}}],yAxes:[{ticks:{beginAtZero:!0},scaleLabel:{display:!0,labelString:"dB"}}]},elements:{point:{radius:0,hitRadius:10,hoverRadius:4}}}),j=["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 159, 64)","rgb(75, 192, 192)","rgb(255, 205, 86)","rgb(153, 102, 255)","rgb(231,233,237)","aqua","antiquewhite","darkgreen","skyblue"],R=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(r.a)(this,Object(l.a)(e).call(this,t))).loading=function(){return m.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.toggle=a.toggle.bind(Object(c.a)(Object(c.a)(a))),a.onRadioBtnClick=a.onRadioBtnClick.bind(Object(c.a)(Object(c.a)(a))),a.state={dropdownOpen:!1,radioSelected:1,chart:{},smithChart:{},type:"s",autoScale:1,yscale:{max:0,min:-90,interval:10},mainChartOpts:P,freq:[]},a.data={},a}return Object(h.a)(e,t),Object(o.a)(e,[{key:"componentDidMount",value:function(){var t=this;x.a.get("http://34.208.107.50/Mproject-1.0/show/"+this.props.match.params.id).then(function(e){var a=e.data;t.state.data=a,t.state.freq=a.freq;for(var i=[],s=[],o=0;o<a.portAmount;o++)for(var r=0;r<a.portAmount;r++){for(var l={label:"S"+(o+1)+(r+1),data:Object(n.a)(a.sdatadB[o][r]),fill:!1,radius:0,backgroundColor:j[(o*a.portAmount+r)%j.length],borderColor:j[(o*a.portAmount+r)%j.length]},h=[],c=0;c<a.sdataSRe[o][r].length;c++)h.push({freq:a.freq[c],real:a.sdataZRe[o][r][c],imag:a.sdataZIm[o][r][c]});var d={label:"S"+(o+1)+(r+1),data:h,fill:!1,backgroundColor:j[(o*a.portAmount+r)%j.length],borderColor:j[(o*a.portAmount+r)%j.length]};i.push(l),s.push(d)}var u={labels:a.freq,datasets:i};t.setState({chart:u,smithChart:{datasets:s}})})}},{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"autoScaleChange",value:function(t){var e=t.currentTarget.value;this.setState({autoScale:e})}},{key:"onRadioBtnClick",value:function(t){for(var e=[],a=this.state.data,i=0;i<a.portAmount;i++)for(var n=0;n<a.portAmount;n++){var s={label:"S"+(i+1)+(n+1),data:1===t?a.sdatadB[i][n]:a.vswr[i][n],fill:!1,radius:0,backgroundColor:j[(i*a.portAmount+n)%j.length],borderColor:j[(i*a.portAmount+n)%j.length]};e.push(s)}var o={labels:a.freq,datasets:e};this.setState({chart:o,radioSelected:t})}},{key:"onXscaleChange",value:function(t){var e=parseInt(t.currentTarget.value),a=JSON.parse(JSON.stringify(this.state.mainChartOpts));a.scales.xAxes[0].ticks.maxTicksLimit=e,console.log(a),console.log(e),this.setState({mainChartOpts:a}),this.forceUpdate()}},{key:"onYscaleChange",value:function(t){var e=parseInt(t.currentTarget.value),a=JSON.parse(JSON.stringify(this.state.mainChartOpts)),i={min:this.state.yscale.min,max:this.state.yscale.max,interval:this.state.yscale.interval};"min"==t.currentTarget.name?(i.min=e,a.scales.yAxes[0].ticks.min=e):"max"==t.currentTarget.name?(i.max=e,a.scales.yAxes[0].ticks.max=e):(i.interval=e,a.scales.yAxes[0].ticks.stepSize=e),i.max<=i.min||this.setState({yscale:i,mainChartOpts:a})}},{key:"render",value:function(){var t=this;return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(f.a,null,m.a.createElement(b.a,null,m.a.createElement(y.a,null,m.a.createElement(C.a,null,m.a.createElement("i",{className:"fa fa-align-justify"}),m.a.createElement("strong",null,"Scales")),m.a.createElement(v.a,null,m.a.createElement(f.a,null,m.a.createElement(b.a,{sm:"1"},m.a.createElement(k.a,null,m.a.createElement(S.a,{htmlFor:"Auto"},"Auto"),m.a.createElement(E.a,{type:"select",name:"Auto",id:"Auto",onChange:function(e){return t.autoScaleChange(e)}},m.a.createElement("option",{value:"1"},"Yes"),m.a.createElement("option",{value:"2"},"No")))),m.a.createElement(b.a,{sm:"2"},m.a.createElement(k.a,null,m.a.createElement(S.a,{htmlFor:"interval"},"yAxes Interval"),m.a.createElement(E.a,{type:"text",name:"interval",id:"y-interval",placeholder:this.state.yscale.interval,onChange:function(e){return t.onYscaleChange(e)},disabled:1==this.state.autoScale}))),m.a.createElement(b.a,{sm:"1"},m.a.createElement(k.a,null,m.a.createElement(S.a,{htmlFor:"min"},"Min"),m.a.createElement(E.a,{type:"text",id:"ymin",name:"min",placeholder:this.state.yscale.min,required:!0,onChange:function(e){return t.onYscaleChange(e)},disabled:1==this.state.autoScale}))),m.a.createElement(b.a,{sm:"1"},m.a.createElement(k.a,null,m.a.createElement(S.a,{htmlFor:"max"},"Max"),m.a.createElement(E.a,{type:"text",id:"ymax",name:"max",placeholder:this.state.yscale.max,required:!0,onChange:function(e){return t.onYscaleChange(e)},disabled:1==this.state.autoScale})))))),m.a.createElement(y.a,null,m.a.createElement(v.a,null,m.a.createElement(f.a,null,m.a.createElement(b.a,{sm:"5"},m.a.createElement(O.a,{className:"mb-0"},"Magimaji.com")),m.a.createElement(b.a,{sm:"7",className:"d-none d-sm-inline-block"},m.a.createElement(M.a,{className:"float-right","aria-label":"Toolbar with button groups"},m.a.createElement(w.a,{className:"mr-3","aria-label":"First group"},m.a.createElement(A.a,{color:"outline-secondary",onClick:function(){return t.onRadioBtnClick(1)},active:1===this.state.radioSelected},"S-Paramater"),m.a.createElement(A.a,{color:"outline-secondary",onClick:function(){return t.onRadioBtnClick(2)},active:2===this.state.radioSelected},"VSWR"))))),m.a.createElement("div",{className:"chart-wrapper",style:{height:"500px",marginTop:"40px"}},m.a.createElement(p.a,{data:this.state.chart,options:this.state.mainChartOpts,height:500})))),m.a.createElement(y.a,null,m.a.createElement(v.a,null,m.a.createElement("div",{className:"chart-wrapper",style:{height:"550px",marginTop:"40px"}},m.a.createElement(L.a,{data:this.state.smithChart})))))))}}]),e}(u.Component);e.default=R}}]);
//# sourceMappingURL=16.cd47c796.chunk.js.map